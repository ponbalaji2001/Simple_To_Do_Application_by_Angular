<nz-modal  [(nzVisible)]="isShowModal" class="modal" [nzTitle]="option+' ToDo' | capitalize" (nzOnCancel)="handleCancel()" (nzOnOk)="handleOk()">
    <ng-container class="container" *nzModalContent>
        <form nz-form nzLayout="vertical" [formGroup]="todoForm" (ngSubmit)="handleOk()">  
          <div nz-row class="row">
            <nz-form-item nz-col nzSpan="12">
              <nz-form-label nzFor="task">Task</nz-form-label>
              <nz-form-control [nzErrorTip]="taskErrorTpl">
                <input nz-input formControlName="task" id="task" placeholder="Enter task" autocomplete="off"/>
                <ng-template #taskErrorTpl let-control>
                  <ng-container *ngIf="control.hasError('required')">Please input a task!</ng-container>
                </ng-template>
              </nz-form-control>
            </nz-form-item>
      
            <nz-form-item nz-col nzSpan="12">
              <nz-form-label nzFor="category">Category</nz-form-label>
              <nz-form-control [nzErrorTip]="categoryErrorTpl">
                <nz-select nzShowSearch nzAllowClear [nzDropdownRender]="renderTemplate" formControlName="category" id="category" nzPlaceHolder="Choose category">
                  <nz-option *ngFor="let item of categoryFilter" [nzLabel]="item.text" [nzValue]="item.value"></nz-option>
                </nz-select>
                <ng-template #renderTemplate>
                  <nz-divider></nz-divider>
                  <div class="container">
                    <input type="text" nz-input #inputElement />
                    <a class="add-item" (click)="addCategory(inputElement)">
                      <span nz-icon nzType="plus"></span>
                      Add item
                    </a>
                  </div>
                </ng-template>
                <ng-template #categoryErrorTpl let-control>
                  <ng-container *ngIf="control.hasError('required')">Please input a category!</ng-container>
                </ng-template>
              </nz-form-control>
            </nz-form-item>
          </div>
      
          <div nz-row class="row">
            <nz-form-item nz-col nzSpan="7.5">
              <nz-form-label nzFor="due_date">Due Date</nz-form-label>
              <nz-form-control [nzErrorTip]="due_dateErrorTpl">
                <nz-date-picker formControlName="due_date" id="due_date" class="fixed-width"></nz-date-picker>
                <ng-template #due_dateErrorTpl let-control>
                  <ng-container *ngIf="control.hasError('required')">Please input a due date!</ng-container>
                </ng-template>
              </nz-form-control>
            </nz-form-item>

            <nz-form-item nz-col nzSpan="7.5">
              <nz-form-label nzFor="priority">Priority</nz-form-label>
              <nz-form-control [nzErrorTip]="priorityErrorTpl">
                <nz-select formControlName="priority" id="priority" nzPlaceHolder="Choose priority" class="fixed-width">
                  <nz-option *ngFor="let item of priorityFilter" [nzLabel]="item.text" [nzValue]="item.value"></nz-option>
                </nz-select>
                <ng-template #priorityErrorTpl let-control>
                  <ng-container *ngIf="control.hasError('required')">Please select a priority!</ng-container>
                </ng-template>
              </nz-form-control>
            </nz-form-item>
              
            <nz-form-item nz-col nzSpan="7.5">
              <nz-form-label nzFor="status">Status</nz-form-label>
              <nz-form-control [nzErrorTip]="statusErrorTpl">
                <nz-select formControlName="status" id="status" nzPlaceHolder="Choose status" class="fixed-width">
                  <nz-option *ngFor="let item of statusFilter" [nzLabel]="item.text" [nzValue]="item.value"></nz-option>
                </nz-select>
                <ng-template #statusErrorTpl let-control>
                  <ng-container *ngIf="control.hasError('required')">Please select a status!</ng-container>
                </ng-template>
              </nz-form-control>
            </nz-form-item>
          </div> 

          <div nz-row  class="row">
            <nz-form-item nz-col nzSpan="24">
              <nz-form-label nzFor="description">Description</nz-form-label>
              <nz-form-control [nzErrorTip]="descriptionErrorTpl">
                <textarea nz-input formControlName="description" id="description" [nzAutosize]="{ minRows: 2, maxRows: 6 }" placeholder="Enter description" autocomplete="off"></textarea>
                <ng-template #descriptionErrorTpl let-control>
                  <ng-container *ngIf="control.hasError('required')">Please input a description!</ng-container>
                </ng-template>
              </nz-form-control>
            </nz-form-item>
          </div>
        </form>
    </ng-container>
</nz-modal>



