<div class="login">
  <nz-alert *ngIf="showAlert" [nzType]="(userData$ | async)?.token ? 'success' : 'error'" nzShowIcon [nzMessage]="loginMessage"></nz-alert>
  <nz-card nzTitle="Login" class="login-container">
    <form nz-form nzLayout="vertical" [formGroup]="loginForm" (ngSubmit)="login()">  
      <div nz-row class="row" nzGutter="4">
        
        <nz-form-item nz-col nzSpan="24">
          <nz-form-label nzFor="email">Email</nz-form-label>
          <nz-form-control [nzErrorTip]="emailErrorTpl">
            <input nz-input formControlName="email" id="email" placeholder="Enter email" autocomplete="off"/>
            
            <ng-template #emailErrorTpl let-control>
              <ng-container *ngIf="control.hasError('required')">Please input an email!</ng-container>
            </ng-template>
          </nz-form-control>
        </nz-form-item>
        
        <nz-form-item nz-col nzSpan="24">
          <nz-form-label nzFor="password">Password</nz-form-label>
          <nz-form-control [nzErrorTip]="passwordErrorTpl">
            <nz-input-group [nzSuffix]="suffixIcon">
              <input nz-input [type]="showPassword ? 'text' : 'password'" formControlName="password" id="password" placeholder="Enter password" 
              autocomplete="off"/>
            </nz-input-group>

            <ng-template #suffixIcon>
              <span nz-icon [nzType]="showPassword ? 'eye' : 'eye-invisible'" nzTheme="outline" 
              style="color: grey;" (click)="togglePassword()"></span>
            </ng-template>

            <ng-template #passwordErrorTpl let-control>
              <ng-container *ngIf="control.hasError('required')">Please input a password!</ng-container>
            </ng-template>
          </nz-form-control>
        </nz-form-item>

        <div nz-col nzSpan="24" style="display:flex; justify-content:flex-end;">
          <button nz-button nzType="primary">Submit</button>
        </div>
      </div> 
    </form>
  </nz-card>
</div>

